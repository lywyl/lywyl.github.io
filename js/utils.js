(function(i){"use strict";ZHAOO.utils={debounce:function(i,n,t){var e;return function(){var o=this;var a=arguments;e&&clearTimeout(e);if(t){var r=!e;e=setTimeout(function(){e=null},n);if(r)i.apply(o,a)}else{e=setTimeout(function(){i.apply(o,a)},n)}}},throttle:function(i,n,t){var e,o,a;var r=0;if(!t)t={};var s=function(){r=t.leading===false?0:(new Date).getTime();e=null;i.apply(o,a);if(!e)o=a=null};var l=function(){var l=(new Date).getTime();if(!r&&t.leading===false)r=l;var c=n-(l-r);o=this;a=arguments;if(c<=0||c>n){if(e){clearTimeout(e);e=null}r=l;i.apply(o,a);if(!e)o=a=null}else if(!e&&t.trailing!==false){e=setTimeout(s,c)}};return l},hasMobileUA:function(){var i=window.navigator;var n=i.userAgent;var t=/iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;return t.test(n)},isTablet:function(){return window.screen.width>767&&window.screen.width<992&&this.hasMobileUA()},isMobile:function(){return window.screen.width<767&&this.hasMobileUA()},isDesktop:function(){return!this.isTablet()&&!this.isMobile()},isDuringDate:function(i,n){var t=new Date,e=new Date(i),o=new Date(n);if(t>=e&&t<=o){return true}return false}};ZHAOO.zui={message:function({text:n,type:t,delay:e}){var o='<div class="zui-message '+(t||"info")+'"><p>'+n+"</p></div>";i("body").append(o);var a=i(".zui-message");a.ready(function(){a.addClass("in");setTimeout(function(){a.removeClass("in");a.on("transitionend webkitTransitionEnd",function(){i(this).remove()})},e||3e3)})},notification:function({title:n,content:t,type:e,delay:o}){var a=JSON.parse(localStorage.getItem("notification-closed"));if(a&&a.indexOf(n)>=0)return;var r='<div class="zui-notification '+(e||"info")+'"><span>'+n+"</span><p>"+t+'</p><i class="j-notification-close iconfont iconbaseline-close-px"></i></div>';i("body").append(r);var s=i(".zui-notification");var l=i(".j-notification-close");s.ready(function(){s.addClass("in");setTimeout(function(){s.removeClass("in");s.on("transitionend webkitTransitionEnd",function(){i(this).remove()})},o||3e3);l.on("click",function(){s.removeClass("in");if(a){a.indexOf(n)<0&&localStorage.setItem("notification-closed",JSON.stringify(a.concat(n)))}else{localStorage.setItem("notification-closed",JSON.stringify([n]))}})})}}})(jQuery);class AsyncLimit{constructor(i){this.limit=Number(i)||2;this.pool=[];this.current=0}async run(i){if(!i||typeof i!=="function"){throw new Error("Function error.")}if(this.current>=this.limit){await new Promise(i=>this.pool.push(i))}return this._handleRun(i)}async _handleRun(i){this.current++;try{return await i()}catch(i){return Promise.reject(i)}finally{this.current--;if(this.pool.length){this.pool[0]();this.pool.shift()}}}}